<div class="page slide-up">
  <h2>Write-ups</h2>

  <input id="search" placeholder="Search write-ups…" class="search-input">

  <div id="writeList" class="cards"></div>
</div>

<script>
async function load() {
  const res = await fetch("writeups.json");
  const posts = await res.json();

  const box = document.getElementById("writeList");
  const search = document.getElementById("search");

  function display(list) {
    box.innerHTML = list.map(p => `
      <a class="card" href="read.html?post=${p.slug}">
        <h3>${p.title}</h3>
        <p>${p.subtitle}</p>
        <div class="meta">
          <span>${p.date}</span> • 
          <span>${p.readingTime} min read</span>
        </div>
      </a>
    `).join("");
  }

  display(posts);

  search.addEventListener("input", () => {
    const q = search.value.toLowerCase();
    display(posts.filter(p => p.title.toLowerCase().includes(q)));
  });
}

load();
</script>

<style>
.search-input {
  width: 100%;
  padding: 10px;
  margin: 10px 0 20px;
  border: 2px dashed #000;
  border-radius: 6px;
}

.cards {
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.card {
  padding: 18px;
  border-radius: 10px;
  border: 1px solid #ccc;
  background: #fff;
  text-decoration: none;
  color: black;
}

.card h3 {
  margin: 0;
  font-size: 20px;
}

.meta {
  font-size: 13px;
  opacity: 0.6;
  margin-top: 8px;
}
</style>
