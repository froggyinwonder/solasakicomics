<div class="page slide-up">
  <div id="postContainer"></div>
</div>

<script>
async function loadPost() {
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  const res = await fetch("/writeups.json");
  const posts = await res.json();

  const post = posts.find(p => p.id === id);

  const container = document.getElementById("postContainer");

  if (!post) {
    container.innerHTML = "<p>Post not found.</p>";
    return;
  }

  const words = post.content.split(/\s+/).length;
  const time = Math.ceil(words / 150) + " min read";

  container.innerHTML = `
    <a href="writeups.html" class="back-btn">← Back</a>
    <h2>${post.title}</h2>
    <small>${new Date(post.date).toDateString()} • ${time}</small>
    <p style="margin-top:20px;white-space:pre-line;">${post.content}</p>
  `;
}
loadPost();
</script>
