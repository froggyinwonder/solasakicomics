<div class="page slide-up" id="reader"></div>

<script>
async function loadPost() {
  const params = new URLSearchParams(location.search);
  const post = params.get("post");

  const res = await fetch(`/writeups/${post}.txt`);
  if (!res.ok) {
    document.getElementById("reader").innerHTML = "Post not found.";
    return;
  }

  const text = await res.text();
  const words = text.split(" ").length;
  const minutes = Math.max(1, Math.ceil(words / 180));

  document.getElementById("reader").innerHTML = `
    <h1>${post}</h1>
    <p><em>‚è± ${minutes} min read</em></p>
    <div class="content">${text.replace(/\n/g, "<br><br>")}</div>
  `;
}
loadPost();
</script>

<style>
#reader {
  max-width:700px;
  margin:auto;
  padding:20px;
  line-height:1.6;
  font-size:18px;
}
</style>
