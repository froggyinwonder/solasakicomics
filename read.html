<div class="page slide-up" id="content"></div>

<script>
async function load() {
  const params = new URLSearchParams(location.search);
  const slug = params.get("post");

  const res = await fetch(`writeups/${slug}.md`);
  const md = await res.text();

  const section = document.getElementById("content");
  const parts = md.split("---");
  const metaRaw = parts[1].trim();
  const body = parts[2].trim();

  const meta = {};
  metaRaw.split("\n").forEach(line => {
    const [k, ...v] = line.split(":");
    meta[k.trim()] = v.join(":").trim();
  });

  section.innerHTML = `
    <h1>${meta.title}</h1>
    <p class="meta">${meta.date} â€¢ ${Math.ceil(body.split(/\s+/).length / 200)} min read</p>
    <article>${body.replace(/\n/g, "<br>")}</article>
  `;
}

load();
</script>

<style>
article {
  font-size: 17px;
  line-height: 1.7;
  margin-top: 20px;
}

.meta {
  opacity: 0.6;
}
</style>
